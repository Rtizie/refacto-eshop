{% extends 'base.html' %} 
{% block title %}Platba - ReFacto{% endblock %} 
{% block head %}
<link rel="stylesheet" href="{{ url_for('static',filename='css/checkout.css')}}"/>
{% endblock %} {% block body %}
<div class="main">
	<script src="https://www.paypal.com/sdk/js?client-id=AYl6fzLH8a742hJG_PA89W_uTwnogNeEbFHenxSv5BeSH5RpoJpqzJ8lgFn4mw3kyAUImk-s0WDL6F1Q&currency=CZK"></script>
	<div>
		<form class="w3-container w3-card-4 w3-light-grey w3-text-blue w3-margin">
			<h2 class="w3-center">Contact Us</h2>

			<div class="w3-row w3-section">
				<div class="w3-col" style="width: 50px">
					<i class="w3-xxlarge fa fa-user"></i>
				</div>
				<div class="w3-rest">
					<input
						class="w3-input w3-border"
						name="first"
						type="text"
						placeholder="First Name"
					/>
				</div>
			</div>

			<div class="w3-row w3-section">
				<div class="w3-col" style="width: 50px">
					<i class="w3-xxlarge fa fa-user"></i>
				</div>
				<div class="w3-rest">
					<input
						class="w3-input w3-border"
						name="last"
						type="text"
						placeholder="Last Name"
					/>
				</div>
			</div>

			<div class="w3-row w3-section">
				<div class="w3-col" style="width: 50px">
					<i class="w3-xxlarge fa fa-envelope-o"></i>
				</div>
				<div class="w3-rest">
					<input
						class="w3-input w3-border"
						name="email"
						type="text"
						placeholder="Email"
					/>
				</div>
			</div>

			<div class="w3-row w3-section">
				<div class="w3-col" style="width: 50px">
					<i class="w3-xxlarge fa fa-phone"></i>
				</div>
				<div class="w3-rest">
					<input
						class="w3-input w3-border"
						name="phone"
						type="text"
						placeholder="Phone"
					/>
				</div>
			</div>

			<div class="w3-row w3-section">
				<div class="w3-col" style="width: 50px">
					<i class="w3-xxlarge fa fa-pencil"></i>
				</div>
				<div class="w3-rest">
					<input
						class="w3-input w3-border"
						name="message"
						type="text"
						placeholder="Message"
					/>
				</div>
			</div>
		</form>
	</div>
	<div></div>
	<div id="paypal-button-container"></div>
	<script>
		function validateFields() {
			if (document.querySelector("#FirstName").value.length <= 1) {
				document.querySelector("#error").innerText =
					"Please enter a first name";
				return false;
			}

			if (document.querySelector("#LastName").value.length <= 1) {
				document.querySelector("#error").innerText =
					"Please enter a last name";
				return false;
			}
			if (document.querySelector("#Phone").value.length <= 1) {
				document.querySelector("#error").innerText =
					"Please enter a phone number";
				return false;
			}

			if (document.querySelector("#Email").value.length <= 1) {
				document.querySelector("#error").innerText =
					"Please enter an email";
				return false;
			}

			document.querySelector("#error").innerText = "";
			return true;
		}
		paypal
			.Buttons({
				createOrder: function (data, actions) {
					// This function sets up the details of the transaction, including the amount and line item details.
					return actions.order.create({
						purchase_units: [
							{
								amount: {
									value: "{{ grand_total }}",
								},
							},
						],
					});
				},
				onApprove: function (data, actions) {
					// This function captures the funds from the transaction.
					return actions.order.capture().then(function (details) {
						// This function shows a transaction success message to your buyer.
						alert(
							"Transaction completed by " +
								details.payer.name.given_name
						);
					});
				},
			})
			.render("#paypal-button-container");
		//This function displays Smart Payment Buttons on your web page.
	</script>
</div>
{% endblock %}
